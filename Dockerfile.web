# Use official Node.js image
FROM node:18

# Copy package files and install dependencies
COPY src/nodejs-server/package*.json ./

# Install dependencies (express included)
RUN npm install

# Set working directory in the container
WORKDIR /usr/src/app

# Copy all source files to the container
COPY src/nodejs-server ./

# Expose the port the web runs on
EXPOSE 8080

# Run the script with arguments (set in runtime)
ENTRYPOINT ["node", "app.js"]
CMD []
